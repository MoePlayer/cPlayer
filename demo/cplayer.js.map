{"version":3,"sources":["cplayer.js"],"names":["cPlayer","options","transLock","EVENTS","emitter","cEmitter","on","eventName","func","DEFAULTS","document","getElementById","Object","assign","undefined","SVG","i","keys","length","svg","createElementNS","setAttribute","CBASE","cBase","now","dragging","contain","target","createElement","lyric","classList","add","lyricBody","appendChild","controls","cLeft","musicDescription","image","metaBak","musicMeta","div","musicName","musicArtist","playIcon","replaceInner","playArrow","cCenter","time","timeBody","timeLine","timePoint","cRight","volume","volumeButton","volumePower","volumeOff","volumeBody","volumeLine","volumePoint","listButton","listPower","playlistPlay","lyricButton","lyricPower","note","list","listBody","element","root","getElementsByTagName","__LIST__","getByClass","getByTagName","toggleIcon","toggle","volumeIcon","that","dragPercentage","rightTarget","defineProperties","get","mover","parent","parentNode","contains","style","width","clientX","getBoundingClientRect","left","offsetWidth","vol","music","window","addEventListener","upper","Error","JSON","stringify","updateTime","duration","removeEventListener","uppers","autoplay","preload","isPaused","play","pause","hasLyric","showLyric","hideLyric","hasList","showList","hideList","isMuted","muted","slideLyric","currentTime","loop","next","cContext","items","previous","translate","emit","ev","a","refreshList","vl","checkLevel","volumeDown","volumeUp","console","log","seeking","dom","name","artist","url","img","src","innerHTML","refreshLyric","paused","id","remove","lb","to","u","ln","push","content","isTrans","lr","transLyric","split","replace","lrcs","onelrc","match","splice","lyricsarray","parseInt","parseFloat","count","sort","b","__LYRIC__","lyricToTop","halfBody","translateY","lrc","childNodes","offsetTop","clientHeight","getElementsByClassName","n","SyntaxError","TypeError","index","arguments","source","key","prototype","hasOwnProperty","call","typeList","events","args","rootNode","documentElement","styleList","indexOf","browser","oldElement","newElement","cloneNode","removeChild","innerContent","className","parentElement","tagName","start","end","Math","random","RangeError","property","slice","toUpperCase","oncontextmenu","hide","show","action","pageX","pageY","children","body","clientWidth","offsetHeight","top","visibility","context"],"mappings":"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","file":"cplayer.js","sourcesContent":["/*\r\n \tcPlayer\r\n    Author\tCorps\r\n\r\n\tI am the super Corps!\r\n */\r\nconst cPlayer = class cPlayer {\r\n\t    constructor(options) {\r\n\t    \tthis.transLock = false;\r\n\t        const EVENTS = {\r\n\t            \"play\"              :[], //When Music be played, Emit.\r\n\t            \"pause\"             :[], //When Music be paused, Emit.\r\n\t            \"volumechange\"      :[],\r\n\t            \"timeupdate\"        :[],\r\n\t            \"canplaythrough\"    :[],\r\n\t            \"ended\"             :[],\r\n\t            //All the above are binded on AUDIO Elements,\r\n\t            //The following items are Function's callback function.\r\n\t            \"toggle\"            :[],\r\n\t            \"previous\"          :[],\r\n\t            \"next\"              :[],\r\n\t            \"changeList\"        :[],\r\n\t            \"changeLyric\"       :[],\r\n\t            \"slideList\"         :[],\r\n\t            \"slideLyric\"        :[],\r\n\t            \"clickLyricPower\"   :[],\r\n\t            \"clickListPower\"    :[],\r\n\t            \"clickVolumePower\"  :[],\r\n\t        };\r\n\t        this.emitter = new cEmitter(EVENTS);\r\n\t        this.on = (eventName,func)=>this.emitter.on(eventName,func);\r\n\t        /*\r\n\t         *  參數处理,合并默认参数与定义參數\r\n\t         */\r\n\t        const DEFAULTS = {\r\n\t            \"element\": document.getElementById(\"cplayer\"),\r\n\t            \"list\"   : []\r\n\t        };\r\n\t        if(Object.assign !== undefined){\r\n\t            this.options = Object.assign({}, DEFAULTS, options);\r\n\t        }\r\n\r\n\t        //SVG建立\r\n\t        this.SVG = {\r\n\t            \"playArrow\"     :'M16 10v28l22-14z',\r\n\t            \"pause\"         :'M12 38h8V10h-8v28zm16-28v28h8V10h-8z',\r\n\t            \"playlistPlay\"  :'M26 6H-8v4h34V6zm0-8H-8v4h34v-4zM-8 18h26v-4H-8v4zm30-4v12l10-6-10-6z',\r\n\t            \"note\"          :'M44 20L32 8H8c-2.2 0-4 1.8-4 4v24.02C4 38.22 5.8 40 8 40l32-.02c2.2 0 4-1.78 4-3.98V20zm-14-9l11 11H30V11z',\r\n\t            \"volumeUp\"      :'M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z',\r\n\t            \"volumeMute\"    :'M14 18v12h8l10 10V8L22 18h-8z',\r\n\t            \"volumeOff\"     :'M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13c2.75-.63 5.26-1.89 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z',\r\n\t            \"volumeDown\"    :'M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z',\r\n\t        };\r\n\t        (()=>{\r\n\t            for(let i = 0,keys = Object.keys(this.SVG),length = keys.length;i<length;i++){\r\n\t                let svg = document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");\r\n\t                    if(keys[i]===\"playlistPlay\"){\r\n\t                        svg.setAttribute(\"viewBox\",\"-12 -12 48 48\");\r\n\t                        svg.setAttribute(\"enable-background\",\"new -12 -12 48 48\")\r\n\t                    }else{\r\n\t                        svg.setAttribute(\"viewBox\",\"0 0 48 48\");\r\n\t                    }\r\n\t                    svg = keys[i]===\"playlistPlay\" ?\r\n\t                     '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"-12 -12 48 48\" enable-background=\"new -12 -12 48 48\"><path d=\"' + this.SVG[keys[i]] + '\"/></svg>' :\r\n\t                     '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 48 48\"><path d=\"' + this.SVG[keys[i]] + '\"/></svg>';\r\n\t                this.SVG[keys[i]] = svg;\r\n\t            }\r\n\t        })();\r\n\r\n\t        this.CBASE = new cBase;\r\n\t        this.now = 0;\r\n\t        this.dragging = {contain: false, target: undefined};\r\n\t        //现在开始填DOM\r\n\t        (()=>{\r\n\t            let cPlayer = document.createElement(\"c-player\");\r\n\t                let lyric = document.createElement(\"div\");\r\n\t                    lyric.classList.add(\"lyric\");\r\n\t                    lyric.classList.add(\"invisible\");\r\n\t                        let lyricBody = document.createElement(\"lyric-body\");\r\n\t                    lyric.appendChild(lyricBody);\r\n\t                let controls = document.createElement(\"div\");\r\n\t                    controls.classList.add(\"controls\");\r\n\t                        let cLeft = document.createElement(\"div\");\r\n\t                            cLeft.classList.add(\"c-left\");\r\n\t                                let musicDescription = document.createElement(\"div\");\r\n\t                                    musicDescription.classList.add(\"music-description\");\r\n\t                                        let image = document.createElement(\"div\");\r\n\t                                            image.classList.add(\"image\");\r\n\t                                                let metaBak = document.createElement(\"img\");\r\n\t                                                    metaBak.classList.add(\"meta-bak\");\r\n\t                                            image.appendChild(metaBak);\r\n\t                                        let musicMeta = document.createElement(\"div\");\r\n\t                                            musicMeta.classList.add(\"music-meta\");\r\n\t                                                let div = document.createElement(\"div\");\r\n\t                                                    let musicName = document.createElement(\"span\");\r\n\t                                                        musicName.classList.add(\"music-name\");\r\n\t                                                    let musicArtist = document.createElement(\"span\");\r\n\t                                                        musicArtist.classList.add(\"music-artist\");\r\n\t                                                    div.appendChild(musicName);\r\n\t                                                    div.appendChild(musicArtist);\r\n\t                                            musicMeta.appendChild(div);\r\n\t                                    musicDescription.appendChild(image);\r\n\t                                    musicDescription.appendChild(musicMeta);\r\n\t                                let playIcon = document.createElement(\"a\");\r\n\t                                    playIcon.classList.add(\"play-icon\");\r\n\t                                    this.CBASE.replaceInner(playIcon,this.SVG.playArrow);\r\n\t                            cLeft.appendChild(musicDescription);\r\n\t                            cLeft.appendChild(playIcon);\r\n\t                        let cCenter = document.createElement(\"div\");\r\n\t                            cCenter.classList.add(\"c-center\");\r\n\t                                let time = document.createElement(\"div\");\r\n\t                                    time.classList.add(\"time\");\r\n\t                                        let timeBody = document.createElement(\"div\");\r\n\t                                            timeBody.classList.add(\"time-body\");\r\n\t                                                let timeLine = document.createElement(\"div\");\r\n\t                                                    timeLine.classList.add(\"time-line\");\r\n\t\t                                                let timePoint = document.createElement(\"div\");\r\n\t\t                                                    timePoint.classList.add(\"time-point\");\r\n\t                                            \t\ttimeLine.appendChild(timePoint);\r\n\t                                            timeBody.appendChild(timeLine);\r\n\t                                    time.appendChild(timeBody);\r\n\t                            cCenter.appendChild(time);\r\n\t                        let cRight = document.createElement(\"div\");\r\n\t                            cRight.classList.add(\"c-right\");\r\n\t                                let volume = document.createElement(\"div\");\r\n\t                                    volume.classList.add(\"volume\");\r\n\t                                        let volumeButton = document.createElement(\"div\");\r\n\t                                            volumeButton.classList.add(\"volume-button\");\r\n\t                                                let volumePower = document.createElement(\"a\");\r\n\t                                                    volumePower.classList.add(\"volume-power\");\r\n\t                                                    this.CBASE.replaceInner(volumePower,this.SVG.volumeOff);\r\n\t                                            volumeButton.appendChild(volumePower);\r\n\t                                        let volumeBody = document.createElement(\"div\");\r\n\t                                            volumeBody.classList.add(\"volume-body\");\r\n\t                                                let volumeLine = document.createElement(\"div\");\r\n\t                                                    volumeLine.classList.add(\"volume-line\");\r\n\t\t                                                let volumePoint = document.createElement(\"div\");\r\n\t\t                                                    volumePoint.classList.add(\"volume-point\");\r\n\t                                            \t\tvolumeLine.appendChild(volumePoint);\r\n\t                                            volumeBody.appendChild(volumeLine);\r\n\t                                    volume.appendChild(volumeButton);\r\n\t                                    volume.appendChild(volumeBody);\r\n\t                                let listButton = document.createElement(\"div\");\r\n\t                                    listButton.classList.add(\"list-button\");\r\n\t                                        let listPower = document.createElement(\"a\");\r\n\t                                            listPower.classList.add(\"list-power\");\r\n\t                                            this.CBASE.replaceInner(listPower,this.SVG.playlistPlay);\r\n\t                                    listButton.appendChild(listPower);\r\n\t                                let lyricButton = document.createElement(\"div\");\r\n\t                                    lyricButton.classList.add(\"lyric-button\");\r\n\t                                        let lyricPower = document.createElement(\"a\");\r\n\t                                            lyricPower.classList.add(\"lyric-power\");\r\n\t                                            this.CBASE.replaceInner(lyricPower,this.SVG.note);\r\n\t                                    lyricButton.appendChild(lyricPower);\r\n\t                            cRight.appendChild(volume);\r\n\t                            cRight.appendChild(listButton);\r\n\t                            cRight.appendChild(lyricButton);\r\n\t                    controls.appendChild(cLeft);\r\n\t                    controls.appendChild(cCenter);\r\n\t                    controls.appendChild(cRight);\r\n\t                let list = document.createElement(\"div\");\r\n\t                    list.classList.add(\"list\");\r\n\t                    list.classList.add(\"invisible\");\r\n\t                        let listBody = document.createElement(\"list-body\");\r\n\t                    list.appendChild(listBody);\r\n\t            cPlayer.appendChild(lyric);\r\n\t            cPlayer.appendChild(controls);\r\n\t            cPlayer.appendChild(list);\r\n\t            this.options.element.appendChild(cPlayer);\r\n\t        })();\r\n\t        this.CBASE.root = this.options.element.getElementsByTagName(\"c-player\");\r\n\t        this.CBASE.root = this.CBASE.root[this.CBASE.root.length-1];\r\n\t        //然后为DOMList填充一下吧\r\n\t        this.__LIST__ = {\r\n\t            \"lyric\"      : this.CBASE.getByClass(\"lyric\"),\r\n\t            \"lyricBody\"  : this.CBASE.getByTagName(\"lyric-body\"),\r\n\t            \"toggle\"     : this.CBASE.getByClass(\"play-icon\"),\r\n\t            \"img\"        : this.CBASE.getByClass(\"meta-bak\"),\r\n\t            \"name\"       : this.CBASE.getByClass(\"music-name\"),\r\n\t            \"artist\"     : this.CBASE.getByClass(\"music-artist\"),\r\n\t            \"time\"       : this.CBASE.getByClass(\"time\"),\r\n\t            \"timeBody\"   : this.CBASE.getByClass(\"time-body\"),\r\n\t            \"timeLine\"   : this.CBASE.getByClass(\"time-line\"),\r\n\t            \"timePoint\"  : this.CBASE.getByClass(\"time-point\"),\r\n\t            \"lyricPower\" : this.CBASE.getByClass(\"lyric-power\"),\r\n\t            \"volumePower\": this.CBASE.getByClass(\"volume-power\"),\r\n\t            \"volumeBody\" : this.CBASE.getByClass(\"volume-body\"),\r\n\t            \"volumeLine\" : this.CBASE.getByClass(\"volume-line\"),\r\n\t            \"volumePoint\": this.CBASE.getByClass(\"volume-point\"),\r\n\t            \"listPower\"  : this.CBASE.getByClass(\"list-power\"),\r\n\t            \"list\"       : this.CBASE.getByClass(\"list\"),\r\n\t            \"listBody\"   : this.CBASE.getByTagName(\"list-body\")\r\n\t        };\r\n\t        this.__LIST__.toggleIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.toggle);\r\n\t        this.__LIST__.volumeIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.volumePower);\r\n\r\n\t        let that=this;function dragPercentage(options) {\r\n\t\t    \t/*\r\n\t\t    \t\tWhile anything...\r\n\t\t    \t\trightTarget(if.it.possible)[\r\n\t\t\t\t\t\t0 -> sth.point\r\n\t\t\t\t\t\t1 -> sth.line\r\n\t\t\t\t\t\t2 -> sth.point & sth.line & sth.body\r\n\t\t    \t\t]\r\n\t\t    \t*/\r\n\t\t    \tlet rightTarget = [];\r\n\t\t\t\t\tObject.defineProperties(rightTarget,{\r\n\t\t\t\t\t\t0:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timePoint \r\n\t\t                \t|| options.target === that.__LIST__.volumePoint}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t1:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timeLine\r\n\t\t                \t|| options.target === that.__LIST__.volumeLine}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t2:{\r\n\t\t\t\t\t\t\tget: ()=>{return options.target === that.__LIST__.timePoint \r\n\t\t                \t|| options.target === that.__LIST__.volumePoint\r\n\t\t                \t|| options.target === that.__LIST__.timeBody\r\n\t\t                \t|| options.target === that.__LIST__.volumeBody\r\n\t\t                \t|| options.target === that.__LIST__.timeLine\r\n\t\t                \t|| options.target === that.__LIST__.volumeLine}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t    \t\t/*rightTarget.push(options.target === that.__LIST__.timePoint \r\n\t\t                \t|| options.target === that.__LIST__.volumePoint); //Check if the focus of mouse is the `point circle`\r\n\t\t    \t\trightTarget.push(options.target === that.__LIST__.timeLine\r\n\t\t                \t|| options.target === that.__LIST__.volumeLine);\r\n\t\t    \t\trightTarget.push((options.target === that.__LIST__.timePoint \r\n\t\t                \t|| options.target === that.__LIST__.volumePoint\r\n\t\t                \t|| options.target === that.__LIST__.timeBody\r\n\t\t                \t|| options.target === that.__LIST__.volumeBody\r\n\t\t                \t|| options.target === that.__LIST__.timeLine\r\n\t\t                \t|| options.target === that.__LIST__.volumeLine));*/\r\n\t\t    \tif (!rightTarget[2]) return;//Warning!!! rightTarget[2] checks if mouse focus on the percentage.\r\n\t\t        that.dragging.contain = true;\r\n\t\t        that.dragging.target = options.target;\r\n\t\t\t\tlet mover = function(options){\r\n\t\t\t\t\tif (that.dragging.contain === false) return;\r\n\t\t            if (!rightTarget[0]) return;\r\n\t\t            parent = that.dragging.target.parentNode.parentNode;\r\n\t\t            if (parent.classList && parent.classList.contains(\"volume-body\")) {\r\n\t\t                that.__LIST__.volumeLine.style.width = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth * 100 + \"%\";\r\n\t\t            } else if (parent.classList && parent.classList.contains(\"time-body\")) {\r\n\t\t                that.__LIST__.timeLine.style.width = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth * 100 + \"%\";\r\n\t\t            }\r\n\t\t            //实时修正VOLUME\r\n\t\t            if (parent.classList.contains(\"volume-body\")) {\r\n\t\t                let vol = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t                vol = vol > 1 ? 1 : vol;\r\n\t\t                vol = vol < 0 ? 0 : vol;\r\n\t\t                that.music.volume = vol;\r\n\t\t            }\r\n\t\t            window.addEventListener(\"mouseup\",upper);\r\n\t\t\t\t};let upper=function (options){\r\n\t\t            \tif (that.dragging.contain === false) return;\r\n\t\t\t            /*\r\n\t\t\t            \tWhile anything...\r\n\t\t\t            \tsth.body -> self\r\n\t\t\t            \tsth.line -> parent\r\n\t\t\t            \tsth.point-> parent.parent\r\n\t\t\t            */\r\n\t\t\t            if(false){}\r\n\t\t\t            \telse if(rightTarget[0]){parent = that.dragging.target.parentNode.parentNode}\r\n\t\t\t            \telse if(rightTarget[1]){parent = that.dragging.target.parentNode}\r\n\t\t\t            \telse if(rightTarget[2]){parent = that.dragging.target}\r\n\t\t\t            \telse throw new Error(JSON.stringify([that.dragging.target, rightTarget]));\r\n\t\t\t            if (parent.classList.contains(\"volume-body\")) {\r\n\t\t\t                let vol = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                vol = vol > 1 ? 1 : vol;\r\n\t\t\t                vol = vol < 0 ? 0 : vol;\r\n\t\t\t                that.music.volume = vol;\r\n\t\t\t            } else if (parent.classList.contains(\"time-body\")) {\r\n\t\t\t                let time = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                time = time > 1 ? 1 : time;\r\n\t\t\t                time = time < 0 ? 0 : time;\r\n\t\t\t                that.updateTime(time * that.music.duration);\r\n\t\t\t            }\r\n\t\t\t            that.dragging.contain = false;\r\n\t\t\t            that.dragging.target = undefined;\r\n\t\t\t            window.removeEventListener(\"mouseup\",upper);\r\n\t\t\t            window.removeEventListener(\"mousemove\",mover);\r\n\t\t            };let uppers = function(options){\r\n\t\t            \tif (that.dragging.contain === false) return;\r\n\t\t\t            if(false){}\r\n\t\t\t            \telse if(rightTarget[0]){parent = that.dragging.target.parentNode.parentNode}\r\n\t\t\t            \telse if(rightTarget[1]){parent = that.dragging.target.parentNode}\r\n\t\t\t            \telse if(rightTarget[2]){parent = that.dragging.target}\r\n\t\t\t            \telse throw new Error(JSON.stringify([that.dragging.target, rightTarget]));\r\n\r\n\t\t\t            if (parent.classList.contains(\"volume-body\")) {\r\n\t\t\t                let vol = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                vol = vol > 1 ? 1 : vol;\r\n\t\t\t                vol = vol < 0 ? 0 : vol;\r\n\t\t\t                that.music.volume = vol;\r\n\t\t\t            } else if (parent.classList.contains(\"time-body\")) {\r\n\t\t\t                let time = (options.clientX - parent.getBoundingClientRect().left) / parent.offsetWidth;\r\n\t\t\t                time = time > 1 ? 1 : time;\r\n\t\t\t                time = time < 0 ? 0 : time;\r\n\t\t\t                that.updateTime(time * that.music.duration);\r\n\t\t\t            }\r\n\t\t\t            that.dragging.contain = false;\r\n\t\t\t            that.dragging.target = undefined;\r\n\t\t\t            window.removeEventListener(\"mouseup\",uppers);\r\n\t\t            };\r\n\t\t\t\tif (rightTarget[0])window.addEventListener(\"mousemove\",mover);\r\n\t\t\t\tif (!rightTarget[0])window.addEventListener(\"mouseup\",uppers);\r\n\t\t    }\r\n\r\n\t        this.music = document.createElement(\"audio\");\r\n\t        this.music.autoplay = !!this.options.autoplay;\r\n\t        this.music.preload  = \"metadata\";\r\n\t        //绑定事件开始:\r\n\r\n\t        this.emitter.on(\"toggle\",()=>{\r\n\t            if (this.isPaused()) {\r\n\t                this.play();\r\n\t            } else {\r\n\t                this.pause();\r\n\t            }\r\n\t        }).on(\"clickLyricPower\",()=>{\r\n\t            if (this.hasLyric(this.now) && this.__LIST__.lyric.classList.contains(\"invisible\")) {\r\n\t                this.showLyric();\r\n\t            } else if (this.hasLyric(this.now) && !this.__LIST__.lyric.classList.contains(\"invisible\")) {\r\n\t                this.hideLyric();\r\n\t            }\r\n\t        }).on(\"clickListPower\",()=>{\r\n\t            if (this.hasList() && this.__LIST__.list.classList.contains(\"invisible\")) {\r\n\t                this.showList();\r\n\t            } else if (this.hasLyric() && !this.__LIST__.list.classList.contains(\"invisible\")) {\r\n\t                this.hideList();\r\n\t            }\r\n\t        }).on(\"clickVolumePower\",()=>{\r\n\t            if (this.isMuted()) {\r\n\t                this.music.muted = false;\r\n\t            } else {\r\n\t                this.volume(0);\r\n\t            }\r\n\t        }).on(\"timeupdate\",()=>{\r\n\t            this.updateTime();\r\n\t            if (this.hasLyric(this.now)) {\r\n\t                this.slideLyric(this.music.currentTime);\r\n\t            }\r\n\t        }).on(\"volumechange\",()=>{\r\n\t            this.volume(); //做更新界面用.\r\n\t        }).on(\"pause\",()=>{\r\n\t            this.CBASE.replaceInner(this.__LIST__.toggle,this.SVG.playArrow);\r\n\t            //再赋值,更新内容.\r\n\t            //this.__LIST__.toggleIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.toggle);\r\n\t        }).on(\"play\",()=>{\r\n\t            this.CBASE.replaceInner(this.__LIST__.toggle,this.SVG.pause);\r\n\t            //再赋值,更新内容.\r\n\t            this.__LIST__.toggleIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.toggle);\r\n\t        }).on(\"ended\",()=>{\r\n\t            //this.__LIST__.lyricBody.style.transform = \"\"; 为了兼容性封装一遍\r\n\t            this.CBASE.style(this.__LIST__.lyricBody,\"transform\",\"\");\r\n\t            if (this.options.list[this.now].loop === true) {\r\n\t                    this.updateTime(0);\r\n\t                    this.play();\r\n\t            }else if (this.hasList()&&this.now !== this.options.list.length-1) {\r\n\t                this.next();\r\n\t            }\r\n\t        });\r\n\r\n\t        //结束\r\n\r\n\t        new cContext({element:this.options.element,items:[\r\n\t        \t\t{\"name\":\"上一曲\",\"action\":()=>this.previous()},\r\n\t        \t\t{\"name\":\"下一曲\",\"action\":()=>this.next()},\r\n\t        \t\t{\"name\":\"翻译\",\"action\":()=>this.translate()}\r\n\t        \t]})\r\n\r\n\t        if(this.options.list[0]) this.toggle();\r\n\t        this.__LIST__.toggle.addEventListener(\"click\", ()=>this.emitter.emit(\"toggle\"));\r\n\t        this.__LIST__.lyricPower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickLyricPower\"));\r\n\t        this.__LIST__.listPower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickListPower\"));\r\n\t        this.__LIST__.volumePower.addEventListener(\"click\", ()=>this.emitter.emit(\"clickVolumePower\"));\r\n\t        this.music.addEventListener(\"volumechange\", (ev)=>this.emitter.emit(\"volumechange\",ev));\r\n\t        this.music.addEventListener(\"timeupdate\", (ev)=>this.emitter.emit(\"timeupdate\",ev));\r\n\t        this.music.addEventListener(\"canplaythrough\", ()=>this.emitter.emit(\"canplaythrough\"));\r\n\t        this.music.addEventListener(\"pause\", ()=>this.emitter.emit(\"pause\"));\r\n\t        this.music.addEventListener(\"play\", ()=>this.emitter.emit(\"play\"));\r\n\t        this.music.addEventListener(\"ended\", ()=>this.emitter.emit(\"ended\"));\r\n\t        this.options.element.addEventListener(\"mousedown\", (a)=>dragPercentage(a));\r\n\r\n\t        this.volume();\r\n\t        this.refreshList();\r\n\t    };\r\n\r\n\t    volume(vl = undefined) {\r\n\t        let checkLevel = ()=>{\r\n\t            if(this.music.volume===0||this.isMuted()){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeOff);\r\n\t                this.__LIST__.volumeIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.volumePower);\r\n\t            } else if(this.music.volume>0&&this.music.volume<=0.5){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeDown);\r\n\t                this.__LIST__.volumeIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.volumePower);\r\n\t            } else if(this.music.volume>0.5&&this.music.volume<=1){\r\n\t                this.CBASE.replaceInner(this.__LIST__.volumePower,this.SVG.volumeUp);\r\n\t                this.__LIST__.volumeIcon = this.CBASE.getByTagName(\"svg\",this.__LIST__.volumePower);\r\n\t            } else {\r\n\t                console.log(\"Unexcepted Volume: \"+this.music.volume);\r\n\t            }\r\n\t        }\r\n\t        if (vl === undefined) {\r\n\t            this.__LIST__.volumeLine.style.width = (this.music.volume * 100) + \"%\";\r\n\t            checkLevel();\r\n\t            return this.isMuted() ? 0 : this.music.volume;\r\n\t        } else {\r\n\t            if (vl === 0) {\r\n\t                this.music.muted = true;\r\n\t                checkLevel();\r\n\t            } else {\r\n\t                this.music.volume = vl;\r\n\t                checkLevel();\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    isMuted() {\r\n\t        return this.music.muted;\r\n\t    }\r\n\r\n\t    play() {\r\n\t        if(this.music.seeking === true) return this;\r\n\t        this.music.play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    pause() {\r\n\t        if(this.music.seeking === true) return;\r\n\t        this.music.pause();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    previous() {\r\n\t        this.emitter.emit(\"previous\");\r\n\t        if(this.now === 0) return;\r\n\t        this.now--;\r\n\t        this.toggle().play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    next() {\r\n\t        this.emitter.emit(\"next\");\r\n\t        if(this.now === this.options.list.length-1) return;\r\n\t        this.now++;\r\n\t        this.toggle().play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    to(now) {\r\n\t        this.now = now;\r\n\t        this.toggle();\r\n\t        this.play();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    toggle(now = this.now) {\r\n\t        this.emitter.emit(\"toggle\");\r\n\t        let list = this.options.list[now], dom = this.__LIST__;\r\n\t        this.music.pause();\r\n\t        [dom.img.src, dom.name.innerHTML, dom.artist.innerHTML, this.music.src] = [list.image, list.name, list.artist, list.url];\r\n\t        this.transLock = false;\r\n\t        this.refreshLyric();\r\n\t        if (!this.hasLyric(this.now))this.hideLyric();\r\n\t        this.CBASE.style(this.__LIST__.lyricBody,\"transform\",\"\");\r\n\t        return this;\r\n\t    }\r\n\r\n\t    isPaused(func) {\r\n\t        if(func !== undefined) func();\r\n\t        return this.music.paused;\r\n\t    }\r\n\r\n\t    hasLyric(id = 0,func) {\r\n\t        if(func !== undefined) func();\r\n\t        return (this.options.list[id].lyric != undefined);\r\n\t    }\r\n\r\n\t    showLyric() {\r\n\t        this.emitter.emit(\"slideLyric\",true);\r\n\t        if (this.hasLyric(this.now))this.__LIST__.lyric.classList.remove(\"invisible\");\r\n\t        if (!this.__LIST__.list.classList.contains(\"invisible\")) this.hideList();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hideLyric() {\r\n\t        this.emitter.emit(\"slideLyric\",false);\r\n\t        this.__LIST__.lyric.classList.add(\"invisible\");\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hasList(func) {\r\n\t        if(func !== undefined) func();\r\n\t        return (this.options.list.length > 1);\r\n\t    }\r\n\r\n\t    showList(func) {\r\n\t        this.emitter.emit(\"slideList\",true);\r\n\t        this.__LIST__.list.classList.remove(\"invisible\");\r\n\t        if (!this.__LIST__.lyric.classList.contains(\"invisible\")) this.hideLyric();\r\n\t        if(func !== undefined) func();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    hideList(func) {\r\n\t        this.emitter.emit(\"slideList\",false);\r\n\t        this.__LIST__.list.classList.add(\"invisible\");\r\n\t        if(func !== undefined) func();\r\n\t        return this;\r\n\t    }\r\n\r\n\t    refreshList(func) {\r\n\t        this.emitter.emit(\"changeList\");\r\n\t        let list = this.options.list, lb = this.__LIST__.listBody;\r\n\t        lb.innerHTML = ``;\r\n\t        for (let i = 0; i <= list.length - 1; i++) {\r\n\t            let div = document.createElement(\"div\");\r\n\t            div.innerHTML = '<span class=\"music-name\">' + list[i].name + '</span><span class=\"music-artist\">' + list[i].artist + '</span>';\r\n\t            div = lb.appendChild(div);\r\n\t            div.addEventListener(\"click\", ()=> {\r\n\t                this.to(i);\r\n\t            });\r\n\t        }\r\n\t        if(func !== undefined) func();\r\n\t    }\r\n\r\n\t    add(u,func) {\r\n\t        let ln = this.options.list.push(u);\r\n\t        let div = document.createElement(\"div\");\r\n\t        div.innerHTML = '<span class=\"music-name\">' + u.name + '</span><span class=\"music-artist\">' + u.artist + '</span>';\r\n\t        div = this.__LIST__.listBody.appendChild(div);\r\n\t        div.addEventListener(\"click\", ()=> {\r\n\t            this.to(ln - 1);\r\n\t        });\r\n\t        if(ln===1) this.toggle(); //刷新元素.\r\n\t        if(func !== undefined) func();\r\n\t    }\r\n\r\n\t    lyric(content = undefined) {\r\n\t        if (content === undefined) {\r\n\t            if (this.hasLyric(this.now)) return this.options.list[this.now].lyric;\r\n\t        } else {\r\n\t            this.options.list[this.now].lyric = content;\r\n\t            this.refreshLyric();\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n\r\n\t    refreshLyric(isTrans=false) {\r\n\t        //REQUIRE LYRIC...\r\n\t        this.__LIST__.lyricBody.innerHTML = ``;\r\n\t        if (!this.hasLyric(this.now)) return;\r\n\t        let lr = isTrans!==false?this.options.list[this.now].transLyric:this.options.list[this.now].lyric;\r\n\t        //START LRC BASEING...\r\n\t\t\tlr = lr.split(\"\\n\").length>1?lr.split(\"\\n\"):lr.replace(\"]\",\"]\\n\").split(\"]\");\r\n\t        let lrcs = [];\r\n\t        for (let i = 0,content=lr[i];i<lr.length;i++,content=lr[i]) {\r\n\t            if (typeof content !== \"string\") break;\r\n\t            let onelrc = content.split(/\\[|\\]\\[|\\]/gi);\r\n\t            for (let i = 0; i < onelrc.length - 1; i++) {\r\n\t                if (onelrc[i] === \"\" && i !== onelrc.length - 1 || onelrc[i].match(/\\d{1,}\\:\\d{1,}/gi)===null) {\r\n\t                    onelrc.splice(i, 1);\r\n\t                    i--;\r\n\t                    continue;\r\n\t                }\r\n\r\n\t                if (onelrc[i].match(/\\d{1,}\\:\\d{1,}/gi)) {\r\n\t                    let lyricsarray = onelrc[i].split(/\\:|\\./gi);\r\n\t                    switch (lyricsarray.length) {\r\n\t                        case 2:\r\n\t                            onelrc[i] = parseInt(lyricsarray[0]) * 60 + parseInt(lyricsarray[1]);\r\n\t                            break;\r\n\t                        case 3:\r\n\t                            onelrc[i] = parseInt(lyricsarray[0]) * 60 + parseInt(lyricsarray[1]) + parseFloat(\"0.\" + lyricsarray[2]);\r\n\t                            break;\r\n\t                        default:\r\n\t                            throw new Error(\"Time not be Found!\")\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\r\n\t            lrcs.push(onelrc);\r\n\t        }\r\n\t        //LRC BASED\r\n\t        let lyric = [];\r\n\t        for (let i = lrcs.length - 1; i >= 0; i--) {\r\n\t            if (lrcs[i].length > 2) {\r\n\t                for (let count = lrcs[i].length - 1; count >= 0; count--) {\r\n\t                    if (count !== lrcs[i].length - 1 && lrcs[i][lrcs[i].length - 1]!==undefined) {\r\n\t                        lyric.push({time: lrcs[i][count], content: lrcs[i][lrcs[i].length - 1]});\r\n\t                    }\r\n\t                }\r\n\r\n\t            } else if(lrcs[i][1]!==undefined) {\r\n\t                lyric.push({time: lrcs[i][0], content: lrcs[i][1]});\r\n\t            }\r\n\t        }\r\n\r\n\t        lyric.sort((a, b)=> {\r\n\t            return a.time - b.time;\r\n\t        });\r\n\t        lyric[\"now\"] = 0;\r\n\t        this.__LYRIC__ = lyric;\r\n\t        for (let i = 0; i <= lyric.length - 1; i++) {\r\n\t            let div = document.createElement(\"lrc\");\r\n\t            div.innerHTML = lyric[i].content;\r\n\t            this.__LIST__.lyricBody.appendChild(div);\r\n\t        }\r\n\t        this.emitter.emit(\"changeLyric\");\r\n\t    }\r\n\r\n\t    updateTime(time = undefined,func) {\r\n\t        if (time !== undefined)this.music.currentTime = time;\r\n\t        if (this.dragging.contain === false) this.__LIST__.timeLine.style.width = (this.music.currentTime / this.music.duration) * 100 + \"%\";\r\n\t        //if(this.isPaused()) this.play();\r\n\t        if(func !== undefined) func(this.music.currentTime);\r\n\t        //return this.music.currentTime;\r\n\t    }\r\n\r\n\t    slideLyric(time){\r\n\t        if(this.__LIST__.lyric.classList.contains(\"invisible\")) return;\r\n\r\n\t        let lyricToTop,\r\n\t        \thalfBody,\r\n\t        \ttranslateY,\r\n\t        \tlyricBody=this.__LIST__.lyricBody,\r\n\t        \tlrc = this.__LIST__.lyricBody.getElementsByTagName(\"lrc\");\r\n\t        //遍历Lyric,寻找当前时间的歌词\r\n\t        for (let i = this.__LYRIC__.length - 1, lyric = this.__LYRIC__[i]; i >= 0; lyric = this.__LYRIC__[i-1],i--) {\r\n\t        \tif(lyric.time>time)\r\n\t        \t\tif(this.__LYRIC__[i-1])\r\n\t        \t\tif(this.__LYRIC__[i-1].time>time) continue;\r\n\t        \tif(lyric.time<time||!this.__LYRIC__[i-1]) break;\r\n\t\t        \tif(this.__LYRIC__[\"now\"]!==i-1)\r\n\t\t        \t\tthis.__LYRIC__[\"now\"]=i-1;\r\n\t\t            lrc[i-1].classList.add(\"now\");\r\n\t\t\t        lyricToTop  = lyricBody.childNodes[i-1].offsetTop - lyricBody.childNodes[0].offsetTop - 0.5 * lyricBody.childNodes[i-1].clientHeight;\r\n\t\t\t        halfBody    = 0.5 * this.__LIST__.lyric.clientHeight - lyricBody.childNodes[i-1].clientHeight;\r\n\t\t\t        translateY  = -(lyricToTop - halfBody);\r\n\t\t\t        this.CBASE.style(lyricBody,\"transform\",\"translateY(\" + translateY + \"px)\");\r\n\t\t\t        let list = this.__LIST__.lyricBody.getElementsByClassName(\"now\");\r\n\t\t            if(list.length>1)\r\n\t\t\t            for (let n = list.length - 1; n >= 0; n--)\r\n\t\t\t            \tif(list[n]!==lrc[i-1])\r\n\t\t\t            \t\tlist[n].classList.remove(\"now\");\r\n\t        }\r\n\t    }\r\n\t    translate(){\r\n\t    \tif(!this.options.list[this.now].transLyric||!this.hasLyric(this.now)) return false;\r\n\t    \tthis.transLock = !this.transLock;\r\n\t    \tthis.refreshLyric(this.transLock);\r\n\t    }\r\n\t    get length(){\r\n\t        return this.options.list.length;\r\n\t    }\r\n\t    set length(length){\r\n\t        throw new SyntaxError(\"Read-only Property.\");\r\n\t    }\r\n}\r\n\r\n//Object.assign 解决方案\r\nif (typeof Object.assign != 'function') {\r\n\t  Object.assign = function(target) {\r\n\t    'use strict';\r\n\t    if (target == null) {\r\n\t      throw new TypeError('Cannot convert undefined or null to object');\r\n\t    }\r\n\r\n\t    target = Object(target);\r\n\t    for (var index = 1; index < arguments.length; index++) {\r\n\t      var source = arguments[index];\r\n\t      if (source != null) {\r\n\t        for (var key in source) {\r\n\t          if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n\t            target[key] = source[key];\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    return target;\r\n\t  };\r\n}\r\n\r\nconst cEmitter = class cEmitter{\r\n\t    constructor(typeList){\r\n\t        if(typeList){\r\n\t            this.events = typeList;\r\n\t        }else{\r\n\t            this.events = [];\r\n\t        }\r\n\t    }\r\n\t    on(eventName,func){\r\n\t        if(this.events[eventName]&&this.events[eventName].push !== undefined&&typeof func === \"function\"){\r\n\t            this.events[eventName].push(func);\r\n\t        }else if(this.events[eventName]===undefined||this.events[eventName].push===undefined){\r\n\t            this.events[eventName] = [];\r\n\t        }else{\r\n\t            throw new TypeError(\"Uncaught Unexcepted TypeError.\")\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n\t    emit(eventName,...args){\r\n\t        for(let i = 0;i<this.events[eventName].length;i++){\r\n\t            this.events[eventName][i](args);\r\n\t        }\r\n\t        return this;\r\n\t    }\r\n}\r\nconst cBase = class cBase{\r\n\t    constructor(rootNode=document.documentElement){\r\n\t        this.root = rootNode;\r\n\t        for(let styleList = document.documentElement.style,i = styleList.length;i>0;i--){\r\n\t            if(styleList[i].indexOf(\"-webkit-\")!==-1){\r\n\t                this.browser = \"webkit\";\r\n\t                break;\r\n\t            }\r\n\t            if(styleList[i].indexOf(\"-moz-\")!==-1){\r\n\t                this.browser = \"moz\";\r\n\t                break;\r\n\t            }\r\n\t            if(styleList[i].indexOf(\"-o-\")!==-1){\r\n\t                this.browser = \"o\";\r\n\t                break;\r\n\t            }\r\n\t            if(styleList[i].indexOf(\"-ms-\")!==-1){\r\n\t                this.browser = \"ms\";\r\n\t                break;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t    replace(oldElement,newElement){\r\n\t        //newElement 不存在于oldElement 的父元素中,首先载入.\r\n\t        newElement = newElement.cloneNode(true);\r\n\t        oldElement.parentNode.appendChild(newElement);\r\n\t        oldElement.parentNode.removeChild(oldElement);\r\n\t        //顺便如果有值为oldElement的变量,请重新赋值.\r\n\t    }\r\n\t    replaceInner(element,innerContent){\r\n\t        //进行一次简单的封装\r\n\t        element.innerHTML = innerContent;\r\n\t    }\r\n\t    getByClass(className,parentElement){\r\n\t        return parentElement!=undefined?parentElement.getElementsByClassName(className)[0]:this.root.getElementsByClassName(className)[0];\r\n\t    }\r\n\t    getByTagName(tagName,parentElement){\r\n\t        return parentElement!=undefined?parentElement.getElementsByTagName(tagName)[0]:this.root.getElementsByTagName(tagName)[0];\r\n\t    }\r\n\t    rand(start,end){\r\n\t        if(start===undefined||end===undefined) return Math.random();\r\n\t        if(start>end) throw new RangeError(\"the EndNumber must be bigger than the StartNumber\");\r\n\t        return (end-start)*Math.random()+start;\r\n\t    }\r\n\t    style(dom,property,content){\r\n\t        dom.style[this.browser+property.slice(0,1).toUpperCase()+property.slice(1)] = content;\r\n\t        dom.style[property] = content;\r\n\t    }\r\n}\r\nconst cContext = class cContext{\r\n    /*\r\n     * options:{\r\n     *            \"element\":element,\r\n     *            \"items\":[\r\n     *                {\"name\":\"XXX\",\"action\":func},\r\n     *                {\"name\":\"XXX\",\"action\":func},\r\n     *            ]\r\n     *         }\r\n     */\r\n    constructor(options){\r\n        if(!options.element)throw new Error(\"Need a element to bind.\");\r\n        this.options = options;\r\n        this.options.element.oncontextmenu = function(){\r\n            return false;\r\n        }\r\n        this.options.element.addEventListener(\"contextmenu\",a=>{\r\n            this.hide();\r\n            this.show(a);\r\n            return false;\r\n        });\r\n        document.documentElement.addEventListener(\"click\",()=>this.hide());\r\n        return this;\r\n    }\r\n    add({name,action}){\r\n        this.options.items.push({name,action});\r\n        return this;\r\n    }\r\n    show({pageX,pageY}){\r\n        let content = document.createElement(\"div\");\r\n            content.classList.add(\"c-context\");\r\n        for(let items = this.options.items, i=0;i<items.length;i++){\r\n        \tcontent.appendChild(document.createElement(\"div\"));\r\n        \tcontent.children[i].classList.add(\"c-context--list\");\r\n        \tcontent.children[i].innerHTML = items[i].name;\r\n            //content.innerHTML+=`<div class=\"c-context--list\">${items[i].name}</div>`;\r\n            content.children[i].addEventListener(\"click\",items[i].action);\r\n        }\r\n        document.body.appendChild(content);\r\n        //Set the offset-x\r\n        if(document.body.clientWidth>content.offsetWidth){ //When the body is wide enough\r\n            if(document.body.clientWidth>(content.offsetWidth+pageX))\r\n                content.style.left = pageX + \"px\"; //Let the ContextMenu be right;\r\n            if(document.body.clientWidth<(content.offsetWidth+pageX)) \r\n                content.style.left = pageX - content.offsetWidth + \"px\"; //Let the ContextMenu be left;\r\n        }else{\r\n            content.style.width = document.body.clientWidth + \"px\";\r\n        }\r\n        //Set the offset-y\r\n        if(document.body.clientHeight>content.offsetHeight){\r\n            if(document.body.clientHeight>(content.offsetHeight+pageY))\r\n                content.style.top = pageY + \"px\";\r\n            if(document.body.clientHeight<(content.offsetHeight+pageY))\r\n                content.style.top = pageY - content.offsetHeight + \"px\";\r\n        }\r\n        content.style.visibility = \"visible\";\r\n        return this;\r\n    }\r\n    hide(){\r\n        for(let list = document.getElementsByClassName(\"c-context\"),i = list.length-1;i>=0;i--)document.body.removeChild(list[i]);\r\n        return this;\r\n    }\r\n    get items(){\r\n        return this.options.items;\r\n    }\r\n    set items(context){\r\n        this.options.items = context;\r\n        return this.options.items;\r\n    }\r\n}\r\nif(window)window.cPlayer = cPlayer;\r\nconsole.log(\"\\n%ccPlayer%cv2.4.5%c\\n\\n\",\"padding:7px;background:#cd3e45;font-family:'Sitka Heading';font-weight:bold;font-size:large;color:white\",\"padding:7px;background:#ff5450;font-family:'Sitka Text';font-style:italic;font-size:large;color:#eee\",\"\");"]}